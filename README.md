# Code Typing Practice

## Code Typing Practice란 무엇인가?

영타가 느린 개발자가 각 프로그래밍 언어별 빠른 영타 습득을 위해
코드 타자 연습을 할 수 있는 사이트입니다.
낱말연습, 짧은 글 연습, 긴 글 연습을 지원합니다.

## Product

https://code-typing-practice.online

## Tech Stack

### Front

- React
- React - Redux, Redux ToolKit
- Redux - Saga
- SCSS
- Firebase
- Electron
- 배포: Netlify

### Back

- Express
- MongoDB
- Firebase
- 배포: AWS

### 그외

- Eslint 및 Prettier 공통 적용

## Feature

### 로그인

![loginPicture1](/readme_assets/login_1.JPG)

- 구글 계정을 이용한 로그인과 Guest 유저 로그인이 가능합니다.
- 만약 기존에 가입되어있지 않은 유저가 로그인을 시도한 경우 회원가입과 동시에 자동으로 로그인 됩니다.

### 마이페이지

![mypage1](/readme_assets/mypage_1.JPG)

- 구글 로그인으로 접속한 경우 마이페이지를 사용할 수 있습니다.

#### 정보

- 유저의 점수와 지난 날의 기록에 기반한 평균 타수와 정확도가 계산되어 조회됩니다.

#### 환경설정

- 다양한 환경설정을 적용할 수 있습니다.
- 효과음을 설정한 경우 타자소리 및 문제의 맞고 틀림에 따른 소리가 출력됩니다.
- 특정 언어를 선택한 경우, 헤당 언어의 기록이 표시됨과 동시에,
  해당 언어의 문제를 풀 수 있습니다.
- 문제 개수 설정을 통해 원하는 개수 만큼의 문제를 풀 수 있습니다.
- 색약 유저인 경우 색약 모드를 설정하면 다른 색상으로 문제가 표시됩니다.

#### 기록

- 지난 날의 기록 (짧은 글, 긴 글)이 최신순으로 표시됩니다.
- 푼 문제 유형, 날짜, 타속, 그리고 정확도를 조회할 수 있습니다.

### 낱말연습

![word1](/readme_assets//word_1.JPG)

- 각 언어별 사용되는 키워드 및 예약어 낱말을 타자연습 할 수 있습니다.
- 맞고 틀림에 따라 색깔이 다르게 표시됩니다.
- 정확도, 오타수, 진행도가 표시됩니다.

![word2](/readme_assets//word_2.JPG)

- 낱말연습이 모두 끝난 경우 모달 창을 통해 결과를 확인할 수 있습니다.

### 짧은 글 연습

![sentence1](/readme_assets/sentence_1.JPG)

- 각 언어별 코드 한 문장을 연습할 수 있습니다.
- 맞고 틀림에 따라 색깔이 다르게 표시됩니다.
- 현재 타수, 현재 정확도, 누적 정확도, 진행도, 획득 점수가 표시됩니다.
- 현재 타수는 다음과 같은 공식에 의해 구해집니다.
  $$ {현재 타수} = \frac{{옳게\,입력한\,글자\,수} - {Backspace\,입력\,횟수}}{분}$$
- 현재 정확도는 다음과 같은 공식에 의해 구해집니다.
  $$ {현재 정확도} = \frac{전체\,글자\,수 - 틀리게\,입력한\,글자\,수}{전체\,글자\,수}$$
- 옳은 문장 하나를 완성할 때마다 3점을 획득할 수 있습니다.

![sentence2](/readme_assets/sentence_2.JPG)

- 짧은 글 연습이 모두 끝난 경우 모달 창을 통해 결과를 확인할 수 있습니다.

### 긴 글 연습

![paragraph1](/readme_assets/paragraph_1.JPG)

- 각 언어별 긴 코드 문장을 연습할 수 있습니다.
- 맞고 틀림에 따라 색깔이 다르게 표시됩니다.
- 현재 타수, 현재 정확도, 누적 정확도, 진행도가 표시됩니다.
- 현재 타수는 다음과 같은 공식에 의해 구해집니다.
  $$ {현재 타수} = \frac{{옳게\,입력한\,글자\,수} - {Backspace\,입력\,횟수}}{분}$$
- 현재 정확도는 다음과 같은 공식에 의해 구해집니다.
  $$ {현재 정확도} = \frac{전체\,글자\,수 - 틀리게\,입력한\,글자\,수}{전체\,글자\,수}$$
- 모두 옳게 타이핑 한 경우 10점을 획득할 수 있습니다.

![paragraph2](/readme_assets/paragraph_2.JPG)

- 긴 글 연습이 모두 끝난 경우 모달 창을 통해 결과를 확인할 수 있습니다.

## 개발 역사

### 기획 schema

https://lucid.app/users/login#/login?referredProduct=lucidchart

### 기획 mockup

https://www.figma.com/file/hesgkPNGnrlidqc6lLjV8h/Code-Typing-Practice?node-id=0%3A1

### 게스트 로그인 모드가 추가된 이유

프로젝트 막바지 부근 시점에서, 우리의 결과물이 데스크톱 앱 환경에서도 실행될 수 있도록 electorn을 도입해보자는 의견이 나왔습니다.
따라서 electron 환경을 세팅한 뒤, 빌드까지 마치고 프로그램을 실행시켰는데, firebase가 제대로 동작하지 않았습니다.
원인을 파악해보니 electron은 firebase의 auth 기능을 지원하지 않는다는 점에 있었습니다.
우리의 프로젝트 작품은 로그인이 수행되어야만, 그 이후의 모든 기능을 사용할 수 있었기 때문에, electron으로 빌드된 프로그램은 아무런 기능도 수행할 수 없었습니다.

따라서 해결방안을 생각해야 했습니다.
로그인 방식을 firebase에서 다른 방식으로 바꾸기에는 프로젝트 일정 마감까지 얼마 남지 않았기 때문에 부담이 너무나 컸습니다.
그렇다고 로그인 기능을 완전히 제거하거나, 기껏 세팅해놓은 electron을 완전히 배제할 수도 없었습니다.
결과적으로 생각한 방법은 게스트 로그인이었습니다.
firebase를 거치지 않고 로그인하는 방법으로, 일종의 체험판 같은 느낌으로 진행되도록 하였습니다.

이것이 아주 완벽한 해결방법은 아니겠지만
제한된 여건 하에 요구사항을 모두 만족시킨 경험을 할 수 있었습니다.

### 색약모드가 추가된 이유

어느 정도 프로젝트가 완성된 뒤, 다른 프로젝트를 수행하고 있는 동료들을 대상으로 알파 테스트를 진행하였습니다.
그 중 한 동료로부터 타자 검정시 옳고 틀림을 구분하는 색상이 잘 분간이 되지 않는다는 피드백을 받았습니다.
알고보니 그 동료는 적록색약이 있었는데, 우리의 디자인은 연두색과 분홍색을 사용했기 때문에 발생한 일이었습니다.
따라서 마이페이지 내 색약모드 설정 기능을 추가했고, 파란색 및 노란색으로 색상이 바뀌도록 하였습니다.

### 스키마 설계의 중요성

데이터베이스의 스키마 설계는 아주 신중해야 한다는 말을 들었지만, 프로젝트를 기획할 때 이 점에 대해서는 매우 부족했습니다.
클라이언트는 서버에게 원하는 언어와 문제 타입에 대한 요청을 보내면, 그 요청에 대한 것만 응답을 받아야 하는데,
스키마 설계의 결함으로 인해 요청을 보내지 않은 정보들도 모두 불러와졌습니다.
따라서 원하는 값들만 따로 추출할 필요성이 생기게 되었고, 이는 불필요하고 복잡한 코드의 결과로 나타났습니다.

결국 밤을 새며 기존 스키마를 모두 뒤엎고, 다시 스키마를 작성하였습니다.
그리고 백엔드 및 프론트엔드 로직 모두를 다시 수정했습니다.
그 결과 기존과는 비교할 수 없을 정도로 프론트 및 백엔드 로직이 간소화되고 효율적으로 바뀌었습니다.

스키마 설계에 좀만 시간을 들였다면, 프로젝트 기간 중 이런 불필요한 과정은 존재하지 않았을 것입니다.
결과적으로 스키마 설계에 많은 시간을 들이는 것은 결고 시간낭비가 아님을 깨닫게 되었습니다.
오히려 잘못된 스키마로 인해 코드가 복잡해지고, 추후에 이를 복구하는 과정에서 발생하는 시간적 손실이 압도적임을 몸소 체험하며 느꼈습니다.

## 소감
